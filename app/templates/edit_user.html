{% extends "layout.html" %}

{% block title %}Edit User - Chatabook{% endblock %}

{% block content %}
<div class="bg-white shadow-lg rounded-lg p-8 mx-auto max-w-3xl mt-10">
    <h1 class="text-2xl font-bold text-green-800 text-center mb-6">✏️ Upraviť údaje</h1>
    <form method="POST" action="{{ url_for('main.edit_user', user_id=user.id) }}" class="space-y-6">
        <div>
            <label for="name" class="block text-sm font-medium text-gray-700">Meno:</label>
            <input
                type="text"
                id="name"
                name="name"
                value="{{ user.name }}"
                required
                class="w-full mt-1 p-2 border rounded focus:ring-green-500 focus:border-green-500"
            />
        </div>
        <div>
            <label for="surname" class="block text-sm font-medium text-gray-700">Priezvisko:</label>
            <input
                type="text"
                id="surname"
                name="surname"
                value="{{ user.surname }}"
                required
                class="w-full mt-1 p-2 border rounded focus:ring-green-500 focus:border-green-500"
            />
        </div>
        <div>
            <label for="email" class="block text-sm font-medium text-gray-700">E-mail:</label>
            <input
                type="email"
                id="email"
                name="email"
                value="{{ user.email }}"
                required
                class="w-full mt-1 p-2 border rounded focus:ring-green-500 focus:border-green-500"
            />
        </div>
        <div>
            <label for="phone_number" class="block text-sm font-medium text-gray-700">Telefónne číslo:</label>
            <input
                type="text"
                id="phone_number"
                name="phone_number"
                value="{{ user.phone_number }}"
                required
                class="w-full mt-1 p-2 border rounded focus:ring-green-500 focus:border-green-500"
            />
        </div>
        <div>
            <label for="role_id" class="block text-sm font-medium text-gray-700">Rola:</label>
            <select
                id="role_id"
                name="role_id"
                class="w-full mt-1 p-2 border rounded focus:ring-green-500 focus:border-green-500"
            >
                {% for role in roles %}
                <option value="{{ role.id }}" {% if role.id == user.role_id %}selected{% endif %}>
                    {{ role_translations[role.name].name }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="flex justify-between items-center">
            <button
                type="submit"
                class="bg-secondary hover:bg-dark text-white py-2 px-4 rounded-lg font-bold transition"
            >
                Uložiť zmeny
            </button>
            <a href="{{ url_for('main.manage_users') }}" class="bg-gray-600 hover:bg-gray-500 text-white py-2 px-4 rounded-lg transition">
                Späť na správu užívateľov
            </a>
        </div>
    </form>
</div>
{% endblock %}
